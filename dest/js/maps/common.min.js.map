{"version":3,"sources":["common.js"],"names":["$","document","ready","mask","lazy","pd","tabs","media","offersSlider","cards","popup","resize","innerWidth","window","Lazy","visibleOnly","threshold","effect","effectTime","height","css","tabLink","tab","index","e","this","parent","preventDefault","removeClass","hide","addClass","slider","slick","arrows","slidesToScroll","slidesToShow","dots","parents","find","prevArrow","nextArrow","responsive","breakpoint","settings","on","tabItem","not","indexTab","eq","show","each","block","state","slideDown","slideUp","flag","setTimeout","length","target","event","type","landingScroll","top","offset","scrollTop","openButton","closeButton","click","attr","animate","opacity"],"mappings":"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","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\r\n  $(\".phone-input\").mask(\"+7 (999) 999-9999\");\r\n  lazy();\r\n  pd();\r\n  tabs();\r\n  media();\r\n  offersSlider();\r\n  cards();\r\n  landingScroll();\r\n  popup();\r\n});\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n  pd();\r\n});\r\n\r\n//global variables\r\nvar innerWidth = $('body').innerWidth();\r\n\r\n//lazy\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    visibleOnly: true,\r\n    threshold: '',\r\n    effect: 'fadeIn',\r\n    effectTime: '300'\r\n  });\r\n}\r\n//padding-home\r\nfunction pd() {\r\n  var height = $('.header').height();\r\n  $('.home').css('padding-top', height);\r\n}\r\n//tabs\r\nfunction tabs() {\r\n  var tabLink = $('.media_nav li a'),\r\n      tab = $('.tab-pane'),\r\n      index;\r\n  \r\n  tabLink.on('click', function(e) {\r\n    index = $(this).parent().index();\r\n    e.preventDefault();\r\n    tabLink.parent().removeClass('active');\r\n    $(this).parent().addClass('active');\r\n    tab.hide().eq(index).fadeIn(300);\r\n  })\r\n}\r\n//media-slider\r\nfunction media() {\r\n  var slider = $('.media__slider');\r\n  \r\n  slider.slick({\r\n    arrows: true,\r\n    slidesToScroll: 2,\r\n    slidesToShow: 2,\r\n    dots: false,\r\n    prevArrow: slider.parents('.slider').find('.slider__prev'),\r\n    nextArrow: slider.parents('.slider').find('.slider__next'),\r\n    responsive: [{\r\n        breakpoint: 768,\r\n        settings: {\r\n          slidesToShow: 1,\r\n          slidesToScroll: 1\r\n        }\r\n      }\r\n    ]\r\n  });\r\n\r\n  slider.on('beforeChange', function () {\r\n    lazy();\r\n  });\r\n  slider.on('afterChange', function () {\r\n    lazy();\r\n  });\r\n}\r\n//offers-slider\r\nfunction offersSlider() {\r\n  var slider = $('.other-offers__slider'),\r\n      tabLink = $('.other-offers-nav__item'),\r\n      tabItem = $('.other-offers__tab');\r\n  \r\n  function tabs() {\r\n    tabItem.not(':first-child').hide();\r\n    tabLink.on('click', function() {\r\n      var indexTab = $(this).index();\r\n      tabItem.removeClass('other-offers__tab_active').hide().eq(indexTab).show().addClass('other-offers__tab_active');\r\n      tabLink.removeClass('other-offers-nav__item_active');\r\n      $(this).addClass('other-offers-nav__item_active');\r\n      tabItem.eq(indexTab).find('.other-offers__slider').slick('setPosition');\r\n      lazy();\r\n    })\r\n  }\r\n  slider.on('init', function(){\r\n    tabs();\r\n  });\r\n  slider.each(function() {\r\n    $(this).slick({\r\n      arrows: true,\r\n      slidesToScroll: 4,\r\n      slidesToShow: 4,\r\n      dots: false,\r\n      prevArrow: $(this).parents('.slider').find('.slider__prev'),\r\n      nextArrow: $(this).parents('.slider').find('.slider__next'),\r\n      responsive: [{\r\n          breakpoint: 1200,\r\n          settings: {\r\n            slidesToShow: 3,\r\n            slidesToScroll: 3\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 768,\r\n          settings: {\r\n            slidesToShow: 2,\r\n            slidesToScroll: 2\r\n          }\r\n        },\r\n        {\r\n          breakpoint: 576,\r\n          settings: {\r\n            slidesToShow: 1,\r\n            slidesToScroll: 1\r\n          }\r\n        }\r\n      ]\r\n    });\r\n  })\r\n  slider.on('beforeChange', function () {\r\n    lazy();\r\n  });\r\n  slider.on('afterChange', function () {\r\n    lazy();\r\n  });\r\n\r\n\r\n}\r\nfunction cards() {\r\n  var block = $('.other-offers-slide__container'),\r\n      flag;\r\n\r\n  function state() {\r\n    block.each(function() {\r\n      if($(this).hasClass('other-offers-slide__container_active')) {\r\n        $(this).find('.other-offers-slide__text').slideDown(200);\r\n      } else {\r\n        $(this).find('.other-offers-slide__text').slideUp(200);\r\n      }\r\n    })\r\n  }\r\n  state();\r\n  $(document).on('click touchstart touchend', function (e) {\r\n    if (!flag) {\r\n      flag = true;\r\n      setTimeout(function () {\r\n        flag = false;\r\n      }, 300);\r\n      if ($(e.target).parents('.other-offers-slide').length > 0) {\r\n        block.removeClass('other-offers-slide__container_active');\r\n        $(e.target).parents('.other-offers-slide').find('.other-offers-slide__container').addClass('other-offers-slide__container_active');\r\n        state();\r\n      } else if ($(e.target).parents('.other-offers-slide').length < 1) {\r\n        block.removeClass('other-offers-slide__container_active');\r\n        state();\r\n      }\r\n    }\r\n  });\r\n  block.on('mouseenter mouseleave', function(event) {\r\n    if(event.type == 'mouseenter') {\r\n      $(this).addClass('other-offers-slide__container_active');\r\n      state();\r\n    } else {\r\n      block.removeClass('other-offers-slide__container_active');\r\n      state();\r\n    }\r\n  })\r\n}\r\n//якорные ссылки\r\nfunction landingScroll() {\r\n  var scrollLink = $('.scroll-link');\r\n\r\n  scrollLink.click(function (event) {\r\n    var id = $(this).attr('href'),\r\n      top = $(id).offset().top;\r\n    event.preventDefault();\r\n    $('body,html').animate({\r\n      scrollTop: top\r\n    }, 400);\r\n  })\r\n}\r\n//popup\r\nfunction popup() {\r\n  var openButton = $('.popup-link');\r\n  var closeButton = $('.popup__overlay, .popup__close');\r\n  var popup = $('.popup');\r\n\r\n  function closePopup() {\r\n    popup \r\n      .animate({opacity: 0}, 200, \r\n        function(){ \r\n          $(this).css('display', 'none');\r\n      });\r\n    $('body').css('overflow', 'visible');\r\n  }\r\n\r\n  openButton.click( function(event){\r\n    event.preventDefault();\r\n    $($(this).attr('href')).css('display', 'block').animate({opacity: 1}, 200);\r\n    $('body').css('overflow', 'hidden');\r\n  });\r\n  closeButton.click( function(){\r\n    closePopup();\r\n  });\r\n}\r\n"]}